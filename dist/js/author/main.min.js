// Rock, Paper, Scissors - Game by Marcin Dobrzyński
const rockMoveButton=document.querySelector(".js-rock-move-button"),paperMoveButton=document.querySelector(".js-paper-move-button"),scissorsMoveButton=document.querySelector(".js-scissors-move-button"),gameResult=document.querySelector(".js-game-result"),gameMovesEmoji=document.querySelector(".js-game-moves-emoji"),gameMovesText=document.querySelector(".js-game-moves-text");let score=JSON.parse(localStorage.getItem("score"))||{wins:0,losses:0,ties:0};updateGameScore(),rockMoveButton.addEventListener("click",(()=>{playGame("Rock")})),paperMoveButton.addEventListener("click",(()=>{playGame("Paper")})),scissorsMoveButton.addEventListener("click",(()=>{playGame("Scissors")}));const resetScoreButton=document.querySelector(".js-reset-score-button");resetScoreButton.addEventListener("click",(()=>{resetScore()}));const automatedGamingButton=document.querySelector(".js-automated-gaming-button");let intervalId,isAutomatedGaming=!1;function automatedGaming(e){isAutomatedGaming?(clearInterval(intervalId),isAutomatedGaming=!1,automatedGamingButton.textContent="Włącz pomoc AI"):(intervalId=setInterval((()=>{playGame(getRandomComputerMove())}),e),isAutomatedGaming=!0,automatedGamingButton.textContent="Wyłącz pomoc AI")}function playGame(e){const t=getRandomComputerMove();let o="";"Rock"===e?"Rock"===t?o="Remis!":"Paper"===t?o="Przegrałeś/aś!":"Scissors"===t&&(o="Wygrałeś/aś!"):"Paper"===e?"Rock"===t?o="Wygrałeś/aś!":"Paper"===t?o="Remis!":"Scissors"===t&&(o="Przegrałeś/aś!"):"Scissors"===e&&("Rock"===t?o="Przegrałeś/aś!":"Paper"===t?o="Wygrałeś/aś!":"Scissors"===t&&(o="Remis!")),"Wygrałeś/aś!"===o?score.wins+=1:"Przegrałeś/aś!"===o?score.losses+=1:"Remis!"===o&&(score.ties+=1),gameResult.textContent=o,gameMovesEmoji.innerHTML=`Ty <img src="../images/${e.toLowerCase()}-emoji.png" alt="${e}"> <img src="../images/${t.toLowerCase()}-emoji.png" alt="${t}"> Komputer`,gameMovesText.innerHTML=`You: <b>${e}</b>, Computer: <b>${t}</b>.`,localStorage.setItem("score",JSON.stringify(score)),updateGameScore()}function updateGameScore(){const e=document.querySelector(".js-wins-score"),t=document.querySelector(".js-losses-score"),o=document.querySelector(".js-ties-score");e.textContent=score.wins,t.textContent=score.losses,o.textContent=score.ties}function resetScore(){score={wins:0,losses:0,ties:0},alert("Wynik został zresetowany. Powodzenia w dalszej rozgrywce!"),localStorage.removeItem("score"),gameResult.textContent="",gameMovesEmoji.innerHTML="",gameMovesText.innerHTML="",updateGameScore()}function getRandomComputerMove(){const e=Math.random();let t="";return e>=0&&e<1/3?t="Rock":e>=1/3&&e<2/3?t="Paper":e>=2/3&&e<1&&(t="Scissors"),t}automatedGamingButton.addEventListener("click",(()=>{automatedGaming(1e3)})),document.body.addEventListener("keydown",(e=>{"k"===e.key||"K"===e.key?playGame("Rock"):"p"===e.key||"P"===e.key?playGame("Paper"):"n"!==e.key&&"N"!==e.key||playGame("Scissors")}));